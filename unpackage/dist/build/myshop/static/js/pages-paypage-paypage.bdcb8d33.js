(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-paypage-paypage"],{"01c5":function(e,t,i){"use strict";var a=i("808c"),n=i.n(a);n.a},"0345":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""}},"06ac":function(e,t,i){"use strict";i.r(t);var a=i("a859"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"194c":function(e,t,i){"use strict";i.r(t);var a=i("a087"),n=i("7734");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("da9c");var r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"59765974",null,!1,a["a"],void 0);t["default"]=c.exports},"244e":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/**\n * 自定义颜色\n */.uni-pay[data-v-04073a5e]{--bgcolor:#f3f3f3}\n/* 手机版收银台弹窗开始 */.mobile-pay-popup[data-v-04073a5e]{min-height:70vh;background-color:var(--bgcolor);border-radius:%?30?% %?30?% 0 0;overflow:hidden}.mobile-pay-popup .mobile-pay-popup-title[data-v-04073a5e]{background-color:#fff;text-align:center;font-weight:700;font-size:%?40?%;padding:%?20?%}.mobile-pay-popup .mobile-pay-popup-amount-box[data-v-04073a5e]{background-color:#fff;padding:%?30?%}.mobile-pay-popup .mobile-pay-popup-amount-box .mobile-pay-popup-amount[data-v-04073a5e]{color:#e43d33;font-size:%?60?%;margin-top:%?20?%}.mobile-pay-popup .mobile-pay-popup-provider-list[data-v-04073a5e]{background-color:#fff;margin-top:%?20?%}\n/* 手机版收银台弹窗结束 */\n/* PC版收银台弹窗开始 */.pc-pay-popup[data-v-04073a5e]{width:800px;height:600px;background-color:var(--bgcolor);border-radius:10px;overflow:hidden}.pc-pay-popup .pc-pay-popup-title[data-v-04073a5e]{background-color:#fff;text-align:center;font-weight:700;font-size:20px;height:66px;line-height:66px}.pc-pay-popup .pc-pay-popup-flex[data-v-04073a5e]{width:100%;display:flex}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box[data-v-04073a5e]{height:calc(600px - 66px);flex:1;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box .pc-pay-popup-qrcode-image[data-v-04073a5e]{width:225px;height:225px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box .pc-pay-popup-amount-box[data-v-04073a5e]{text-align:center}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box .pc-pay-popup-amount-box .pc-pay-popup-amount-tips[data-v-04073a5e]{color:#333;font-size:20px;margin-top:20px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box .pc-pay-popup-amount-box .pc-pay-popup-amount[data-v-04073a5e]{color:#dd524d;font-weight:700;font-size:32px;margin-top:20px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-qrcode-box .pc-pay-popup-complete-button[data-v-04073a5e]{margin-top:20px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list[data-v-04073a5e]{width:300px;display:flex;flex-direction:column}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-provider-item[data-v-04073a5e]{padding:20px;display:flex;align-items:center}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-provider-item .pc-pay-popup-provider-image[data-v-04073a5e]{width:60px;height:60px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-provider-item .pc-pay-popup-provider-text[data-v-04073a5e]{color:#333;font-size:20px;margin-left:10px}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-provider-item.active[data-v-04073a5e]{background-color:#fff}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-provider-item[data-v-04073a5e]:hover{background-color:#fff;cursor:pointer}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-logo[data-v-04073a5e]{flex:1;display:flex;align-items:center;justify-content:center}.pc-pay-popup .pc-pay-popup-flex .pc-pay-popup-provider-list .pc-pay-popup-logo uni-image[data-v-04073a5e]{width:120px}\n/* PC版收银台弹窗结束 */\n/* 二维码支付弹窗开始 */.qrcode-popup-content[data-v-04073a5e]{width:%?600?%;background-color:#fff;border-radius:%?10?%;padding:%?40?%;box-sizing:border-box;text-align:center}.qrcode-popup-content .qrcode-image[data-v-04073a5e]{width:%?450?%;height:%?450?%}.qrcode-popup-content .qrcode-popup-info[data-v-04073a5e]{text-align:center;padding:%?20?%}.qrcode-popup-content .qrcode-popup-info .qrcode-popup-info-fee[data-v-04073a5e]{color:red;font-size:%?60?%;font-weight:700}.qrcode-popup-content .qrcode-popup-cancel[data-v-04073a5e]{margin-top:%?20?%;text-align:center}\n/* 二维码支付弹窗结束 */\n/* 外部浏览器H5支付弹窗确认开始 */.pay-confirm-popup-content[data-v-04073a5e]{width:%?550?%;background-color:#fff;border-radius:%?10?%;padding:%?40?%}.pay-confirm-popup-content .pay-confirm-popup-title[data-v-04073a5e]{text-align:center;padding:%?20?% 0;margin-bottom:%?30?%}.pay-confirm-popup-content .pay-confirm-popup-refresh[data-v-04073a5e]{margin-top:%?20?%}.pay-confirm-popup-content .pay-confirm-popup-cancel[data-v-04073a5e]{margin-top:%?20?%;text-align:center}\n/* 外部浏览器H5支付弹窗确认结束 */',""]),e.exports=t},"30e6":function(e,t,i){"use strict";i.r(t);var a=i("c55e"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"321e":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/**\n * 自定义颜色\n */uni-view[data-v-59765974], uni-scroll-view[data-v-59765974], uni-swiper-item[data-v-59765974]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}@font-face{font-family:uicon-iconfont;src:url(https://at.alicdn.com/t/font_2225171_8kdcwk4po24.ttf) format("truetype")}.u-icon[data-v-59765974]{display:flex;align-items:center}.u-icon--left[data-v-59765974]{flex-direction:row-reverse;align-items:center}.u-icon--right[data-v-59765974]{flex-direction:row;align-items:center}.u-icon--top[data-v-59765974]{flex-direction:column-reverse;justify-content:center}.u-icon--bottom[data-v-59765974]{flex-direction:column;justify-content:center}.u-icon__icon[data-v-59765974]{font-family:uicon-iconfont;position:relative;display:flex;flex-direction:row;align-items:center}.u-icon__icon--primary[data-v-59765974]{color:#3c9cff}.u-icon__icon--success[data-v-59765974]{color:#5ac725}.u-icon__icon--error[data-v-59765974]{color:#f56c6c}.u-icon__icon--warning[data-v-59765974]{color:#f9ae3d}.u-icon__icon--info[data-v-59765974]{color:#909399}.u-icon__img[data-v-59765974]{height:auto;will-change:transform}.u-icon__label[data-v-59765974]{line-height:1}',""]),e.exports=t},3930:function(e,t,i){"use strict";var a=i("925e"),n=i.n(a);n.a},3956:function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("14d9"),i("caad"),i("2532"),i("c975");var n=a(i("0345")),o=a(i("3ca6")),r={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],computed:{uClasses:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle:function(){var e={};return e={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var e={};return e.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),e.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),e},icon:function(){return n.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}};t.default=r},"3ca6":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3");var a={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};t.default=a},"3e34":function(e,t,i){"use strict";i.r(t);var a=i("a6d9"),n=i("fd8b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("489c");var r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"66f9a756",null,!1,a["a"],void 0);t["default"]=c.exports},"445e":function(e,t,i){"use strict";var a=i("8b7a"),n=i.n(a);n.a},4774:function(e,t,i){var a=i("321e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("3a5621bb",a,!0,{sourceMap:!1,shadowMode:!1})},"489c":function(e,t,i){"use strict";var a=i("c0d2"),n=i.n(a);n.a},"55a5":function(e,t,i){"use strict";i.r(t);var a=i("a719"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},7734:function(e,t,i){"use strict";i.r(t);var a=i("3956"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"7e1e":function(e,t,i){"use strict";i.r(t);var a=i("b832"),n=i("06ac");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("01c5");var r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"378bae85",null,!1,a["a"],void 0);t["default"]=c.exports},"808c":function(e,t,i){var a=i("d456");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("d5f5a24e",a,!0,{sourceMap:!1,shadowMode:!1})},"8b7a":function(e,t,i){var a=i("244e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("3402e568",a,!0,{sourceMap:!1,shadowMode:!1})},"925e":function(e,t,i){var a=i("945a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("2fea986e",a,!0,{sourceMap:!1,shadowMode:!1})},"945a":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/**\n * 自定义颜色\n */.delivery .headNav[data-v-20e75ac0]{width:100%;height:%?78?%;background:#fff;display:flex;justify-content:space-between;align-items:center;justify-content:center;align-items:center;color:#ec544f;border-radius:%?15?% %?15?% 0 0}.delivery .body[data-v-20e75ac0]{background:#fff;padding:%?25?%}.delivery .body .box[data-v-20e75ac0]{padding:%?40?% %?20?%;background:#f7f7f7;border-radius:%?10?%;font-size:%?30?%;display:flex;justify-content:space-between;align-items:center}.delivery .body .box .center[data-v-20e75ac0]{flex:1;padding:0 %?30?%;font-size:%?30?%}.delivery .body .box .center .userinfo[data-v-20e75ac0]{padding-top:%?10?%}',""]),e.exports=t},9927:function(e,t,i){"use strict";i.r(t);var a=i("c992"),n=i("30e6");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("445e");var r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"04073a5e",null,!1,a["a"],void 0);t["default"]=c.exports},a087:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-icon",class:["u-icon--"+e.labelPos],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e.isImg?i("v-uni-image",{staticClass:"u-icon__img",style:[e.imgStyle,e.$u.addStyle(e.customStyle)],attrs:{src:e.name,mode:e.imgMode}}):i("v-uni-text",{staticClass:"u-icon__icon",class:e.uClasses,style:[e.iconStyle,e.$u.addStyle(e.customStyle)],attrs:{"hover-class":e.hoverClass}},[e._v(e._s(e.icon))]),""!==e.label?i("v-uni-text",{staticClass:"u-icon__label",style:{color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.space):0}},[e._v(e._s(e.label))]):e._e()],1)},n=[]},a3f0:function(e,t,i){"use strict";(function(e){i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("d3b7"),i("b64b");var n=a(i("c7eb")),o=a(i("1da1")),r=a(i("5530")),c=i("26cb"),u=e.importObject("mall-address"),p=e.importObject("mall-order",{customUI:!0}),s={data:function(){return{deliveryInfo:{address:"",username:"",mobile:""},payDefValue:"alipay",payType:[{name:"支付宝",value:"alipay",color:"#1578FF",icon:"zhifubao"}],payLoading:!0}},computed:(0,r.default)((0,r.default)({},(0,c.mapGetters)(["carsList","totalPrice","preferentialPrice"])),{},{payBtnState:function(){var e=this,t=Object.keys(this.deliveryInfo).every((function(t){return""!=e.deliveryInfo[t]}));return this.carsList.length>0&&this.totalPrice>0&&t&&this.payLoading}}),onLoad:function(){var e=this;this.getDefAddressData(),uni.$on("selectAddressEvent",(function(t){e.deliveryInfo=t}))},onUnload:function(){uni.$off("selectAddressEvent")},methods:(0,r.default)((0,r.default)({},(0,c.mapMutations)(["SET_CARS_LIST"])),{},{onConfirmPay:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i,a,o;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.payLoading=!1,i={deliveryInfo:e.deliveryInfo,carsList:e.carsList,createTime:Date.now(),payType:e.payDefValue,status:0,total_fee:e.totalPrice,done:!1},t.next=4,p.createOrder(i);case 4:a=t.sent,o=a+"_"+String(Math.random()).substring(3,9),e.$refs.uniPay.createOrder({provider:e.payDefValue,total_fee:e.totalPrice,type:"goods",order_no:a,out_trade_no:o,description:"购买商品的支付"});case 7:case"end":return t.stop()}}),t)})))()},paySuccess:function(e){this.payLoading=!0,this.SET_CARS_LIST(),console.log(e)},payCancel:function(e){this.payLoading=!0,console.log(e)},payCreate:function(e){console.log(e)},clickPayBtn:function(e){this.payDefValue=e},getDefAddressData:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i,a,o,r,c,p;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.getDefAddress();case 2:if(i=t.sent,i.data.length){t.next=5;break}return t.abrupt("return");case 5:a=i.data[0],o=a.address,r=a.area_name,c=a.username,p=a.mobile,e.deliveryInfo={address:r+o,username:c,mobile:p};case 7:case"end":return t.stop()}}),t)})))()}})};t.default=s}).call(this,i("a9ff")["default"])},a6d7:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uIcon:i("194c").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"delivery"},[i("v-uni-view",{staticClass:"headNav"},[e._v("外送")]),i("v-uni-view",{staticClass:"body"},[i("v-uni-view",{staticClass:"box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"left"},[e._v("收货地址")]),i("v-uni-view",{staticClass:"center"},[e.deliveryInfo.address?i("v-uni-view",[i("v-uni-view",{staticClass:"detail"},[e._v(e._s(e.deliveryInfo.address))]),i("v-uni-view",{staticClass:"userinfo"},[e._v(e._s(e.deliveryInfo.username+"-"+e.deliveryInfo.mobile))])],1):i("v-uni-view",{staticClass:"addressTxt"},[e._v("请添加收货地址")])],1),i("v-uni-view",{staticClass:"right"},[i("u-icon",{attrs:{name:"arrow-right",color:"#999",size:"18"}})],1)],1)],1)],1)},o=[]},a6d9:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={deliveryLayout:i("f163").default,goodsList:i("7e1e").default,uIcon:i("194c").default,carLayout:i("6db1").default,uniPay:i("9927").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"paypage"},[i("delivery-layout",{attrs:{deliveryInfo:e.deliveryInfo}}),i("v-uni-view",{staticClass:"goodsList"},[i("goods-list",{attrs:{goodsList:e.carsList,totalPrice:e.totalPrice,prePrice:e.preferentialPrice}})],1),i("v-uni-view",{staticClass:"paytype"},e._l(e.payType,(function(t){return i("v-uni-view",{staticClass:"box",class:t.value==e.payDefValue?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.clickPayBtn(t.value)}}},[i("u-icon",{staticClass:"icon",attrs:{name:t.icon,color:t.color,size:"26"}}),i("v-uni-text",{staticClass:"font"},[e._v(e._s(t.name))])],1)})),1),i("v-uni-view",{staticClass:"payTabbar"},[i("car-layout",{attrs:{type:"pay",payBtnState:e.payBtnState},on:{confirmPay:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirmPay.apply(void 0,arguments)}}})],1),i("uni-pay",{ref:"uniPay",attrs:{returnUrl:"/pages/order/order"},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.paySuccess.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.payCancel.apply(void 0,arguments)},create:function(t){arguments[0]=t=e.$handleEvent(t),e.payCreate.apply(void 0,arguments)}}})],1)},o=[]},a719:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"delivery-layout",data:function(){return{}},props:{deliveryInfo:{type:Object,default:function(){return{address:"",username:"",mobile:""}}}},methods:{goAddress:function(){uni.navigateTo({url:"/pages/address/list"})}}};t.default=a},a859:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3");var a=i("3014"),n={name:"goods-list",data:function(){return{}},props:{goodsList:{type:Array,default:function(){return[]}},totalPrice:{type:Number,default:0},prePrice:{type:Number,default:0}},methods:{priceFormat:a.priceFormat}};t.default=n},b832:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"goodsLayout"},[i("v-uni-view",{staticClass:"wrapper"},[i("v-uni-view",{staticClass:"title"},[e._v("共"+e._s(e.goodsList.length)+"件商品")]),i("v-uni-view",{staticClass:"list"},e._l(e.goodsList,(function(t){return i("v-uni-view",{staticClass:"row"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{staticClass:"img",attrs:{src:t.thumb[0].url,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"name"},[e._v(e._s(t.name))])],1),i("v-uni-view",{staticClass:"center"},[e._v("×"+e._s(t.numvalue))]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"big"},[e._v("￥"+e._s(e.priceFormat(t.price)))]),t.before_price?i("v-uni-view",{staticClass:"small"},[e._v("￥"+e._s(e.priceFormat(t.before_price)))]):e._e()],1)],1)})),1),i("v-uni-view",{staticClass:"total"},[i("v-uni-text",[e._v("已优惠￥"+e._s(e.priceFormat(e.prePrice))+"，")]),e._v("合计"),i("v-uni-text",{staticClass:"big"},[e._v("￥"+e._s(e.priceFormat(e.totalPrice)))])],1)],1)],1)},n=[]},c0d2:function(e,t,i){var a=i("ea85");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("05930468",a,!0,{sourceMap:!1,shadowMode:!1})},c55e:function(e,t,i){"use strict";(function(e){i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("e9c4"),i("d81d"),i("c975"),i("14d9"),i("a4d3"),i("e01a"),i("99af"),i("7db0"),i("d3b7"),i("c740"),i("a434");var n=a(i("c7eb")),o=a(i("1da1")),r=a(i("f3da")),c=e.importObject("uni-pay-co"),u={name:"uni-pay",emits:["success","cancel","fail","create","mounted","qrcode"],props:{adpid:{Type:String,default:""},toSuccessPage:{Type:Boolean,default:!0},returnUrl:{Type:String,default:""},mainColor:{Type:String,default:""},mode:{Type:String,default:""},logo:{Type:String,default:"/static/logo.png"},height:{Type:[String],default:"70vh"},debug:{Type:Boolean,default:!1}},data:function(){return{options:{},res:{},images:{wxpay:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABC9JREFUeF7tWk1a20AMlUzv0bDr13AAYAOcpLCBcoqQU1DYEE6C2QAHIP26q3sPPOqniU2cZMYj+SeGxN5kEXlm9ObpjaQxwpY/uOX+Qw9Az4AtR6APgS0nQC+CfQi0FQLfrvcHXwAGPP4bQMK/fy5f7O9HehphwPfb/dOIogEhHQHBcamDCDESPoIxMQPTNSi1ABj+OrwDpNMaO5og4P2bMZOugFADwNTewWhU0/FVzAgnKZnxuoFQAbB3vX9MET7U2PHgq4R09vv8ZRI0bMhADMDw9uAhGN8NLQrWyAYRAGt1PgcRIU5TOms7JIIAdOL8nElJauikTRBKAdi7ObwioFFTzHaMw3mBzRV8DwKOXy+ertpagxcAq/YR/g2d6TlNrUDu4EiiE0Why4T1rgyINoXRC4DgjE+mF8+7RYAkp4RrRyVztRUKTgCkuz89fz4pAiB5z7WbklBrKxScAEgWxI6joZPXy5c4B0H0nkPdhzcHFIxxhHgZ8OA7AgMnAMObA479UnF6H5twQpF5RBMdibPDvB4AAAL6IZ0rNbTb9IngAyC8IwJ0K5okQBgzqFEKSV4wcXg17bxl8fIiJXFc0bHAgYLjYlHEFaZlVUQDoAIbcVZaN1VRrgAgUfImASiKW6Yh4pAohmHVQqpLABI0dMYiKhJPCeoV0ueuQsDmEJrkSeJ/bqNJnOqfApqVzWznzrdYWkvzhnUDYGnPKLTdV5gpfLiOqJUIaTefF8RKH6wxtAOX2IdA8NcCmmRItmBLfVF5jRBnR58kGQtWlGUJlBeAxpQ5A4eFKTu/ufLzPQv1f2mRRDiZ/nyyYwYrypI0OlQOc/9PsgshDsh2v+BUwTFnD3K5DglVlD4WlDZEsqywNgiK2F9gQBkLi7EtyV59WhBsiTURCjy5QZMgYRn9cxbZWgCQ+IKlnH2sFQYTURHmCYMgAJaKs9aYPkXNXGK6QhQdt9xeC4UhTC+eV/wVASASmrKj6IMA4NIBMQDsX1VN4IlbuU0K7vmiQS0G5EOpmiW6I1Dpjtp8pYc5yxYVj0RtXcMJcwDFSiqYLh2x+QgqAJwnAuEEydxbkZtdj+fKPVfwbPIq7KngqvMVX4WoAmDBAcH9HTMmXw23s0LJSlPOOsZx0l8VAu/0Fzjuc2Td3aY5zf1VoZgBvPgmvuhoIrFSMSXQThcDoJo0YLxGLfBSv5IINgVC1XxCOb/oZrkTBtRJqkQgKG6ROgPgPbGq/6HVIiYK51WngAj5ikbBhoZi3FALbHmozhlQXFChTc75g6wRM2ufzb9N/IwMcG0wg8HZJf9HBF/tFZnBBBH+cW/BpBDnd4XLDNJcon4oBiiY7jS194mEI0IaSz+12ygAclSYEcXvFsqA3UgANEzqAdCgtYm2PQM2cVc1PvUM0KC1ibY9AzZxVzU+bT0D/gPs/oxfcUEcJAAAAABJRU5ErkJggg==",alipay:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA2FJREFUeF7tmU122jAQx2cMB2hp9yULeK+naHISwhJyiIRDBJaQkwRO0fdgEWff0h4ANH0yFc+m+hhbckKNvJUsaX76z4ckhAv/8MLthwggKuDCCUQXuHABxCAYXSC6wIUTiC7wFgL4MPveTaj9optrO+696ya8yeQRQFRAdIEYAxoVBD/PNtdCwHWpDIJwr+1PMCk1DgAkCSx/jHrLsv/p+lfKAp3HzQOYDAqxKtcYBJPtXe/B1Y3TXgmATGst0WIrgAC7JmBINOQsNN8HE0zfVQFlFxzrgFgHNLQOkNJuQ7vrcgkS1CXEua5fgnDj+l+172CX/h59Tbn9Of0qBUE1cGe2ngPhLWeiEH0krFDBT63HC8Cnx/VtFuFDfgl90UOldDvuX4WcSo7lBSD0YuR4H6ebZwRNkRUw9xdSah1G+IzZmW5IW7ERDX/e9Rc+YwerBEMvQo1nrhfqkf/ZuYCxxK5J/t4AjkFQBi71CXxFoFSWq2XTlkn+AndXodNf5SwgT4J7gnttoNL6BqUEmCZET/tkvzQZYj5g1Sf/0goIkfcJYIkEK5HsFnkYnen6BXQptUb5lwJgMz4zCihXD/BqAwVDuoy+Uqx399kACrkZaYECVjY5qxJZXpoQwrcDHB6UghfVvPssAMo35W4R7oZVg5EMmAJxUCZ2CNzfVJ2Pm6qdleDBNwFClaHZdRrQAEhWe25VSPCuAMo1tnQhdIzMNUixfDYBqAOGVQEKQB15OFMCwXPV3QsFww7g73E39Pudr/Gn0EyplQPXCkBF/5AKsBtPKRA+AdKAEx/0BhYLL9nHFkhZLiBvbkOcxFzG5wPtoe7gBUrrTiMttqO+8ebZCkAtWErs17jHvrrSLcj+lkCpKeV5g/ABIA05lqgVM4Er2nPhZgev7DHGnToLG+ALIC9budgWwoRzyuMUPlzj8waVBuELIFOB5iksi7xIKQh8PS4wu8/j+a3vBScbRAgABVfg5BZbH6SFgP0kVIl7UCjNja4RCkAGwecaPLDhp4yNsSYkADlp/mncdNLLu8fpud9XQK7//wERGoBrAefSfgRBsLI9pTtPg+diUNV1yLuJypVg1Un/p/8arwDXZkQALkJNb48KaPoOu+yLCnARanp7VEDTd9hlX1SAi1DT2/8AaakVXysj5qkAAAAASUVORK5CYII="},originalRroviders:["wxpay","alipay"],currentProviders:["wxpay","alipay"]}},mounted:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=3,e.getPayProviderFromCloud();case 3:i=t.sent,0===i.errCode&&(e.originalRroviders=i.provider,e.currentProviders=JSON.parse(JSON.stringify(e.originalRroviders))),e.$emit("mounted",{images:e.images,originalRroviders:e.originalRroviders,currentProviders:e.currentProviders});case 6:case"end":return t.stop()}}),t)})))()},methods:{open:function(){var e=arguments,t=this;return(0,o.default)((0,n.default)().mark((function i(){var a,o;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:{},a.provider?(o=[],t.originalRroviders.map((function(e,t){a.provider.indexOf(e)>-1&&o.push(e)})),t.currentProviders=o,delete a.provider):t.currentProviders=JSON.parse(JSON.stringify(t.originalRroviders)),t.options=a,1!==t.currentProviders.length){i.next=7;break}t.createOrder({provider:t.currentProviders[0]}),i.next=11;break;case 7:if("pc"!==t.modeCom){i.next=10;break}return i.next=10,t._pcChooseProvider(t.currentProviders[0]);case 10:t.openPopup("payPopup");case 11:case"end":return i.stop()}}),i)})))()},createOrder:function(){var e=arguments,t=this;return(0,o.default)((0,n.default)().mark((function i(){var a,o,u,p;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:{},o=t.options,Object.assign(o,a),"appleiap"!==o.provider){i.next=5;break}return i.abrupt("return",t._appleiapCreateOrder(o));case 5:return"pc"===r.default.checkPlatform()&&(o.qr_code=!0),u={provider:o.provider,total_fee:o.total_fee,openid:void 0,order_no:o.order_no||t.res.order_no,out_trade_no:o.out_trade_no||t.res.out_trade_no,description:o.description,type:o.type,qr_code:o.qr_code,custom:o.custom,other:o.other},o.openid&&"wxpay"===o.provider&&(u.openid=o.openid),i.next=11,c.createOrder(u);case 11:p=i.sent,p.errCode||(t.$emit("create",p),p.qr_code&&!o.cancel_popup?(t.res=p,"pc"===t.modeCom?(t.openPopup("payPopup"),t._pcChooseProvider(o.provider)):t.openPopup("qrcodePopup")):t.orderPayment(p));case 13:case"end":return i.stop()}}),i)})))()},orderPayment:function(e){var t=this;if(this.res=e,e.qr_code)this.$emit("qrcode",e);else if(e.order)if("jsapi"===e.provider_pay_type)WeixinJSBridge.invoke("getBrandWCPayRequest",e.order,(function(e){"get_brand_wcpay_request:ok"==e.err_msg?t._getOrder():"get_brand_wcpay_request:cancel"==e.err_msg?t.$emit("cancel",e):"get_brand_wcpay_request:fail"==e.err_msg&&(console.error("getBrandWCPayRequest-fail: ",e),t.$emit("fail",e))}));else{var i=e.order.codeUrl,a=e.order.mwebUrl||e.order.mweb_url;setTimeout((function(){t.openPopup("payConfirmPopup"),window.location.href=i||a}),200)}},openPopup:function(e){this.$refs[e].showPopup||this.$refs[e].open()},closePopup:function(e){this.$refs[e].close()},getOrder:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.getOrder(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},refund:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.refund(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getRefund:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.getRefund(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},closeOrder:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.closeOrder(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getPayProviderFromCloud:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.getPayProviderFromCloud(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getProviderAppId:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.getProviderAppId(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getOpenid:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.getOpenid(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},verifyReceiptFromAppleiap:function(){var e=arguments;return(0,o.default)((0,n.default)().mark((function t(){var i,a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.prev=1,t.next=4,c.verifyReceiptFromAppleiap(i);case 4:return a=t.sent,"function"===typeof i.success&&i.success(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),"function"===typeof i.fail&&i.fail(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getCode:function(){return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},paySuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closePopup("payPopup"),this.closePopup("payConfirmPopup"),this.clearQrcode(),this.toSuccessPage&&this.pageToSuccess(e),this.$emit("success",e)},pageToSuccess:function(e){if("pc"!==this.modeCom)uni.navigateTo({url:"/uni_modules/uni-pay/pages/success/success?out_trade_no=".concat(e.out_trade_no,"&order_no=").concat(e.pay_order.order_no,"&pay_date=").concat(e.pay_order.pay_date,"&total_fee=").concat(e.pay_order.total_fee,"&adpid=").concat(this.adpid,"&return_url=").concat(this.returnUrl,"&main_color=").concat(this.mainColor)});else if(this.returnUrl){var t=this.returnUrl+"?out_trade_no=".concat(e.out_trade_no,"&order_no=").concat(e.pay_order.order_no);0!==t.indexOf("/")&&(t="/".concat(t)),uni.navigateTo({url:t})}},clearQrcode:function(){this.res.codeUrl="",this.res.qr_code_image=""},_getOrder:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getOrder({out_trade_no:e.res.out_trade_no,await_notify:!0,success:function(t){t.has_paid&&(e.closePopup("qrcodePopup"),e.paySuccess(t))}});case 1:case"end":return t.stop()}}),t)})))()},_afreshPayment:function(){this.orderPayment(this.res)},_pcChooseProvider:function(e){if(e!==this.options.provider)return this.createOrder({provider:e})},_appleiapCreateOrder:function(e){var t=this;return(0,o.default)((0,n.default)().mark((function i(){var a,o,r,u,p,s,l,d;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=new appleiapSdk.Iap({products:[e.productid]}),uni.showLoading({title:"加载中..."}),i.next=4,a.init();case 4:return i.next=6,a.getProduct();case 6:return o=i.sent,r=o[0],e.total_fee=100*r.price,e.description=r.description,u={provider:e.provider,total_fee:e.total_fee,order_no:e.order_no||t.res.order_no,out_trade_no:e.out_trade_no||t.res.out_trade_no,description:e.description,type:e.type,custom:e.custom},i.next=13,c.createOrder(u);case 13:if(p=i.sent,0!==p.errCode){i.next=49;break}return t.$emit("create",p),t.res=p,uni.showLoading({title:"支付请求中..."}),i.prev=18,t.debug&&console.log("正在请求苹果服务器",e.productid,p.out_trade_no),i.next=22,a.requestPayment({productid:e.productid,username:p.out_trade_no});case 22:if(s=i.sent,t.debug&&console.log("用户支付成功",s),uni.showLoading({title:"正在处理支付结果..."}),s.payment.username||(s.payment.username=t.getAppleiapUserName(s)),s.payment.username){i.next=32;break}return i.next=29,a.finishTransaction(s);case 29:return uni.hideLoading(),console.log("您可能已支付成功，但很抱歉丢单了，请联系客服处理。",s),i.abrupt("return",!1);case 32:return t.addAppleiapOrder(s),i.next=35,t.verifyReceiptFromAppleiap({out_trade_no:s.payment.username,transaction_receipt:s.transactionReceipt,transaction_identifier:s.transactionIdentifier});case 35:if(l=i.sent,0!==l.errCode){i.next=42;break}return i.next=39,a.finishTransaction(s);case 39:t.removeAppleiapOrder(s),uni.hideLoading(),t.paySuccess(l);case 42:i.next=49;break;case 44:i.prev=44,i.t0=i["catch"](18),d=i.t0.errCode||i.t0.code,2===d?(t.debug&&console.log("用户取消支付"),t.$emit("cancel",i.t0)):(console.error("appleiapCreateOrder:fail",i.t0),t.$emit("fail",i.t0)),uni.hideLoading();case 49:case"end":return i.stop()}}),i,null,[[18,44]])})))()},appleiapRestore:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var i,a,o,r,c;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"检测支付环境..."}),i=new appleiapSdk.Iap,t.next=4,i.init();case 4:return t.prev=4,e.debug&&console.log("正在查询是否有漏单信息"),t.next=8,i.restoreCompletedTransactions({username:""});case 8:if(a=t.sent,e.debug&&console.log("漏单查询结果："+(0===a.length?"未漏单":"有漏单"),a),a.length){t.next=12;break}return t.abrupt("return");case 12:o=0;case 13:if(!(o<a.length)){t.next=42;break}r=a[o],t.t0=r.transactionState,t.next=t.t0===appleiapSdk.IapTransactionState.purchased?18:t.t0===appleiapSdk.IapTransactionState.failed?35:38;break;case 18:if(r.payment.username||(r.payment.username=e.getAppleiapUserName(r)),r.payment.username){t.next=24;break}return t.next=22,i.finishTransaction(r);case 22:return console.log("您可能已支付成功，但很抱歉丢单了，请联系客服处理。",r),t.abrupt("continue",39);case 24:return console.log("requestPaymentRes: ",r),t.next=27,e.verifyReceiptFromAppleiap({out_trade_no:r.payment.username,transaction_receipt:r.transactionReceipt,transaction_identifier:r.transactionIdentifier});case 27:if(c=t.sent,console.log("verifyRes: ",c),0!==c.errCode){t.next=34;break}return console.log("完结订单："+r.payment.username),t.next=33,i.finishTransaction(r);case 33:e.removeAppleiapOrder(r);case 34:return t.abrupt("break",39);case 35:return t.next=37,i.finishTransaction(r);case 37:return t.abrupt("break",39);case 38:return t.abrupt("break",39);case 39:o++,t.next=13;break;case 42:t.next=47;break;case 44:t.prev=44,t.t1=t["catch"](4),console.error(t.t1);case 47:return t.prev=47,uni.hideLoading(),t.finish(47);case 50:case"end":return t.stop()}}),t,null,[[4,44,47,50]])})))()},addAppleiapOrder:function(e){var t="uni-pay-appleiap-order",i=uni.getStorageSync(t)||[];i.push(e),uni.setStorageSync(t,i)},getAppleiapUserName:function(e){var t=uni.getStorageSync("uni-pay-appleiap-order")||[],i=t.find((function(t){return t.transactionIdentifier===e.transactionIdentifier&&t.transactionDate===e.transactionDate})),a=i&&i.payment&&i.payment.username;return a},removeAppleiapOrder:function(e){var t="uni-pay-appleiap-order",i=uni.getStorageSync(t)||[],a=i.findIndex((function(t){return t.transactionIdentifier===e.transactionIdentifier&&t.transactionDate===e.transactionDate}));a>-1&&i.splice(a,1),uni.setStorageSync(t,i)}},watch:{},computed:{modeCom:function(){if(this.mode)return this.mode;var e=uni.getSystemInfoSync();return e&&"pc"===e.deviceType?"pc":"mobile"}}};t.default=u}).call(this,i("a9ff")["default"])},c992:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uniPopup:i("51e6").default,uniList:i("791c").default,uniListItem:i("9c90").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"uni-pay"},["pc"===e.modeCom?i("uni-popup",{ref:"payPopup",attrs:{type:"center","safe-area":!1}},[i("v-uni-view",{staticClass:"pc-pay-popup"},[i("v-uni-view",{staticClass:"pc-pay-popup-title"},[e._v("收银台")]),i("v-uni-view",{staticClass:"pc-pay-popup-flex"},[i("v-uni-view",{staticClass:"pc-pay-popup-qrcode-box"},[i("v-uni-image",{staticClass:"pc-pay-popup-qrcode-image",attrs:{src:e.res.qr_code_image}}),i("v-uni-view",{staticClass:"pc-pay-popup-amount-box"},[i("v-uni-view",{staticClass:"pc-pay-popup-amount-tips"},[e._v("扫一扫付款")]),i("v-uni-view",{staticClass:"pc-pay-popup-amount"},[e._v(e._s((e.options.total_fee/100).toFixed(2)))])],1),e.res.qr_code_image?i("v-uni-view",{staticClass:"pc-pay-popup-complete-button"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._getOrder()}}},[e._v("我已完成支付")])],1):e._e()],1),i("v-uni-view",{staticClass:"pc-pay-popup-provider-list"},[e.currentProviders.indexOf("wxpay")>-1?i("v-uni-view",{staticClass:"pc-pay-popup-provider-item",class:"wxpay"==e.options.provider?"active":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._pcChooseProvider("wxpay")}}},[i("v-uni-image",{staticClass:"pc-pay-popup-provider-image",attrs:{src:e.images.wxpay}}),i("v-uni-text",{staticClass:"pc-pay-popup-provider-text"},[e._v("微信支付")])],1):e._e(),e.currentProviders.indexOf("alipay")>-1?i("v-uni-view",{staticClass:"pc-pay-popup-provider-item",class:"alipay"==e.options.provider?"active":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._pcChooseProvider("alipay")}}},[i("v-uni-image",{staticClass:"pc-pay-popup-provider-image",attrs:{src:e.images.alipay}}),i("v-uni-text",{staticClass:"pc-pay-popup-provider-text"},[e._v("支付宝支付")])],1):e._e(),i("v-uni-view",{staticClass:"pc-pay-popup-logo"},[i("v-uni-image",{attrs:{src:e.logo,mode:"widthFix"}})],1)],1)],1)],1)],1):i("uni-popup",{ref:"payPopup",attrs:{type:"bottom","safe-area":!1}},[i("v-uni-view",{staticClass:"mobile-pay-popup",style:"min-height: "+e.height+";"},[i("v-uni-view",{staticClass:"mobile-pay-popup-title"},[e._v("收银台")]),i("v-uni-view",{staticClass:"mobile-pay-popup-amount-box"},[i("v-uni-view",[e._v("待支付金额：")]),i("v-uni-view",{staticClass:"mobile-pay-popup-amount"},[e._v(e._s((e.options.total_fee/100).toFixed(2)))])],1),i("v-uni-view",{staticClass:"mobile-pay-popup-provider-list"},[i("uni-list",[e.currentProviders.indexOf("wxpay")>-1?i("uni-list-item",{attrs:{thumb:e.images.wxpay,title:"微信支付",clickable:!0,link:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.createOrder({provider:"wxpay"})}}}):e._e(),e.currentProviders.indexOf("alipay")>-1?i("uni-list-item",{attrs:{thumb:e.images.alipay,title:"支付宝",clickable:!0,link:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.createOrder({provider:"alipay"})}}}):e._e()],1)],1)],1)],1),i("uni-popup",{ref:"qrcodePopup",attrs:{type:"center","safe-area":!1,animation:!1,"mask-click":!1},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.clearQrcode.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"qrcode-popup-content"},[i("v-uni-image",{staticClass:"qrcode-image",attrs:{src:e.res.qr_code_image}}),i("v-uni-view",{staticClass:"qrcode-popup-info"},[i("v-uni-view",[i("v-uni-text",{staticClass:"qrcode-popup-info-fee"},[e._v(e._s((e.options.total_fee/100).toFixed(2)))]),i("v-uni-text",[e._v("元")])],1),"wxpay"==e.options.provider?i("v-uni-view",[e._v("请用微信扫码支付")]):"alipay"==e.options.provider?i("v-uni-view",[e._v("请用支付宝扫码支付")]):e._e()],1),i("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._getOrder()}}},[e._v("我已完成支付")]),i("v-uni-view",{staticClass:"qrcode-popup-cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closePopup("qrcodePopup")}}},[e._v("暂不支付")])],1)],1),i("uni-popup",{ref:"payConfirmPopup",attrs:{type:"center","safe-area":!1,animation:!1,"mask-click":!1}},[i("v-uni-view",{staticClass:"pay-confirm-popup-content"},[i("v-uni-view",{staticClass:"pay-confirm-popup-title"},[e._v("请确认支付是否已完成")]),i("v-uni-view",[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._getOrder()}}},[e._v("已完成支付")])],1),i("v-uni-view",{staticClass:"pay-confirm-popup-refresh"},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._afreshPayment()}}},[e._v("支付遇到问题，重新支付")])],1),i("v-uni-view",{staticClass:"pay-confirm-popup-cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closePopup("payConfirmPopup")}}},[e._v("暂不支付")])],1)],1)],1)},o=[]},d456:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/**\n * 自定义颜色\n */.goodsLayout .wrapper[data-v-378bae85]{background:#fff;padding:%?30?%;margin-bottom:%?25?%;border-radius:%?15?%}.goodsLayout .wrapper .title[data-v-378bae85]{font-size:%?38?%}.goodsLayout .wrapper .list .row[data-v-378bae85]{display:flex;justify-content:space-between;align-items:center;padding:%?25?% 0}.goodsLayout .wrapper .list .row .left[data-v-378bae85]{display:flex;justify-content:space-between;align-items:center;width:%?400?%}.goodsLayout .wrapper .list .row .left .img[data-v-378bae85]{width:%?64?%;height:%?64?%;border-radius:%?10?%}.goodsLayout .wrapper .list .row .left .name[data-v-378bae85]{padding-left:%?15?%;flex:1;font-size:%?30?%}.goodsLayout .wrapper .list .row .center[data-v-378bae85]{width:%?100?%;text-align:center}.goodsLayout .wrapper .list .row .right[data-v-378bae85]{flex:1;text-align:right;font-weight:700}.goodsLayout .wrapper .list .row .right .big[data-v-378bae85]{font-size:%?34?%}.goodsLayout .wrapper .list .row .right .small[data-v-378bae85]{font-size:%?22?%;color:#a7a7a7;text-decoration:line-through}.goodsLayout .wrapper .total[data-v-378bae85]{padding:%?30?% 0;text-align:right;font-size:%?30?%;color:#a7a7a7}.goodsLayout .wrapper .total .big[data-v-378bae85]{font-size:%?36?%;font-weight:700;color:#000}',""]),e.exports=t},da9c:function(e,t,i){"use strict";var a=i("4774"),n=i.n(a);n.a},ea85:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/**\n * 自定义颜色\n */uni-page-body[data-v-66f9a756]{background:#f7f7f7}body.?%PAGE?%[data-v-66f9a756]{background:#f7f7f7}.paypage[data-v-66f9a756]{padding:%?30?%}.paypage .goodsList[data-v-66f9a756]{margin-top:%?30?%}.paypage .paytype[data-v-66f9a756]{display:flex;justify-content:space-between;align-items:center}.paypage .paytype .box[data-v-66f9a756]{width:49%;height:%?75?%;background:#fff;border-radius:%?10?%;display:flex;justify-content:space-between;align-items:center;justify-content:center;align-items:center;border:1px solid #fff;-webkit-filter:grayscale(100%);filter:grayscale(100%)}.paypage .paytype .box .font[data-v-66f9a756]{padding-left:%?10?%}.paypage .paytype .box:first-child.active[data-v-66f9a756]{border-color:#1578ff;color:#1578ff;-webkit-filter:grayscale(0);filter:grayscale(0)}.paypage .paytype .box:last-child.active[data-v-66f9a756]{border-color:#04c15f;color:#04c15f;-webkit-filter:grayscale(0);filter:grayscale(0)}.paypage .payTabbar[data-v-66f9a756]{position:fixed;width:100%;bottom:0;left:0}',""]),e.exports=t},f163:function(e,t,i){"use strict";i.r(t);var a=i("a6d7"),n=i("55a5");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("3930");var r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"20e75ac0",null,!1,a["a"],void 0);t["default"]=c.exports},f3da:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("d3b7"),i("c975"),i("ac1f"),i("466d"),i("a9e3"),i("d401"),i("25f0"),i("00b4"),i("5319"),i("4d63"),i("c607"),i("2c3e");var a={getWeixinCode:function(){return new Promise((function(e,t){}))},getAlipayCode:function(){},checkPlatform:function(){var e={win:!1,mac:!1,xll:!1},t=navigator.platform;if(e.win=0==t.indexOf("Win"),e.mac=0==t.indexOf("Mac"),e.x11="X11"==t||0==t.indexOf("Linux"),e.win||e.mac||e.xll){var i=navigator.userAgent.toLowerCase();return i.indexOf("micromessenger")>-1?"pc-weixin":"pc"}return t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1?"ios":"android"},getH5Env:function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)&&"miniprogram"==e.match(/miniprogram/i)?"mp-weixin":"micromessenger"==e.match(/MicroMessenger/i)?"h5-weixin":"alipay"==e.match(/alipay/i)&&"miniprogram"==e.match(/miniprogram/i)?"mp-alipay":"alipay"==e.match(/alipay/i)?"h5-alipay":"h5"},timeFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;try{if(!e)return"";var a;"string"!==typeof e||isNaN(e)||(e=Number(e)),"number"===typeof e?(10==e.toString().length&&(e*=1e3),a=new Date(e)):a=e;var n=a.getTimezoneOffset(),o=60*n*1e3+60*i*60*1e3,r=a.getTime()+o;a=new Date(r);var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var u in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),c)new RegExp("("+u+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?c[u]:("00"+c[u]).substr((""+c[u]).length)));return t}catch(p){return e}}},n=a;t.default=n},fd8b:function(e,t,i){"use strict";i.r(t);var a=i("a3f0"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a}}]);